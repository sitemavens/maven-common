//This file was created manually, because contains change from the original

(function(e,t,n,r){"use strict";r.Extension.Paginator=n.View.extend({className:"backgrid-paginator",windowSize:10,fastForwardHandleLabels:{first:"《",prev:"〈",next:"〉",last:"》"},template:t.template('<ul><% _.each(handles, function (handle) { %><li <% if (handle.className) { %>class="<%= handle.className %>"<% } %>><a href="#" <% if (handle.title) {%> title="<%= handle.title %>"<% } %>><%= handle.label %></a></li><% }); %></ul>',null,{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}),events:{"click a":"changePage"},initialize:function(e){r.requireOptions(e,["collection"]);var t=this.collection;var n=t.fullCollection;if(n){this.listenTo(n,"add",this.render);this.listenTo(n,"remove",this.render);this.listenTo(n,"reset",this.render)}else{this.listenTo(t,"add",this.render);this.listenTo(t,"remove",this.render);this.listenTo(t,"reset",this.render)}},changePage:function(t){t.preventDefault();var n=e(t.target).parent();if(!n.hasClass("active")&&!n.hasClass("disabled")){var r=e(t.target).text();var i=this.fastForwardHandleLabels;var s=this.collection;if(i){switch(r){case i.first:s.getFirstPage();return;case i.prev:s.getPreviousPage();return;case i.next:s.getNextPage();return;case i.last:s.getLastPage();return}}var o=s.state;var u=+r;s.getPage(o.firstPage===0?u-1:u)}},makeHandles:function(){var e=[];var t=this.collection;var n=t.state;var r=n.firstPage;var i=+n.lastPage;i=Math.max(0,r?i-1:i);var s=Math.max(n.currentPage,n.firstPage);s=r?s-1:s;var o=Math.floor(s/this.windowSize)*this.windowSize;var u=Math.min(i+1,o+this.windowSize);if(t.mode!=="infinite"){for(var a=o;a<u;a++){e.push({label:a+1,title:"No. "+(a+1),className:s===a?"active":undefined})}}var f=this.fastForwardHandleLabels;if(f){if(f.prev){e.unshift({label:f.prev,className:t.hasPrevious()?void 0:"disabled"})}if(f.first){e.unshift({label:f.first,className:t.hasPrevious()?void 0:"disabled"})}if(f.next){e.push({label:f.next,className:t.hasNext()?void 0:"disabled"})}if(f.last){e.push({label:f.last,className:t.hasNext()?void 0:"disabled"})}}return e},render:function(){this.$el.empty();this.$el.append(this.template({handles:this.makeHandles()}));this.delegateEvents();return this}})})(jQuery,_,Backbone,Backgrid)