/**
 * @license RequireJS text 2.0.5+ Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

define("models/Option",[],function(){var e=Backbone.Model.extend({action:"entryPoint",defaults:{name:"",label:"",type:"",value:"",defaultValue:"",group:""},initialize:function(){},validate:function(e){}});return e}),define("models/GeneralSetting",[],function(){var e=Backbone.Model.extend({action:"entryPoint",defaults:{},initialize:function(){},validate:function(e){}});return e}),define("collections/Options",["models/Option","models/GeneralSetting"],function(e,t){var n=Backbone.Collection.extend({action:"entryPoint",model:e,printAll:function(){_.each(this.models,function(e){console.log(e.get("name"))})},getGroups:function(){var e=[],t="";return this.each(function(n){t!=n.get("group")&&(t=n.get("group"),e.push({group:t}))}),e},getLicensingSetting:function(){var e=new t,n=this.get("registeredPluginsLicensing");return e.set("registeredPluginsLicensing",n.get("value")),e},getGeneralSetting:function(){var e=new t,n=this.get("exceptionNotification"),r=this.get("activeThemeName"),i=this.get("organizationName"),s=this.get("signature"),o=this.get("license"),u=this.get("loginPage"),a=this.get("registrationThankYouPage"),f=this.get("gridRows");return e.set("exceptionNotification",n.get("value")),e.set("activeThemeName",r.get("value")),e.set("organizationName",i.get("value")),e.set("signature",s.get("value")),e.set("loginPage",u.get("value")),e.set("registrationThankYouPage",a.get("value")),e.set("gridRows",f.get("value")),e.set("id","1"),e},getGatewaySetting:function(){var e=new t,n=this.get("activeGateway"),r=this.get("registeredPluginsGateway"),i=this.get("recurringEnabled");return e.set("activeGateway",n.get("value")),e.set("registeredPluginsGateway",r.get("value")),e.set("recurringEnabled",i.get("value")),e.set("id","1"),e},getTrackingSetting:function(){var e=new t,n=this.get("enabledTrackers");return e.set("enabledTrackers",n.get("value")),e.set("id","1"),e},getMailSetting:function(){var e=new t,n=this.get("bccNotificationsTo"),r=this.get("organizationLogo"),i=this.get("organizationLogoUrl"),s=this.get("emailTemplate"),o=this.get("emailProvider"),u=this.get("senderEmail"),a=this.get("senderName"),f=this.get("contactEmail"),l=this.get("emailBackgroundColor");return e.set("bccNotificationsTo",n.get("value")),e.set("organizationLogo",r.get("value")),e.set("organizationLogoUrl",i.get("value")),e.set("emailBackgroundColor",l.get("value")),e.set("emailTemplate",s.get("value")),e.set("emailProvider",o.get("value")),e.set("id","1"),e.set("senderEmail",u.get("value")),e.set("senderName",a.get("value")),e.set("contactEmail",f.get("value")),e},getEmailProvidersSetting:function(){var e=new t,n=this.get("emailProvider");return e.set("emailProvider",n.get("value")),e.set("id","1"),e},getSocialNetworkSetting:function(){var e=new t,n=this.get("enabledSocialNetworks");return e.set("enabledSocialNetworks",n.get("value")),e.set("id","1"),e},getMaillistSetting:function(){var e=new t,n=this.get("activeMaillist");return e.set("activeMaillist",n.get("value")),e.set("id","1"),e}});return n}),define("text",["module"],function(e){var t,n,r,i,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],o=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a=typeof location!="undefined"&&location.href,f=a&&location.protocol&&location.protocol.replace(/\:/,""),l=a&&location.hostname,c=a&&(location.port||undefined),h=[],p=e.config&&e.config()||{};t={version:"2.0.5+",strip:function(e){if(e){e=e.replace(o,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:p.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(r){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,p.isBuild&&(h[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}p.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),h=p.useXhr||t.useXhr;!a||h(u,f,l,c)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(h.hasOwnProperty(n)){var s=t.jsEscape(h[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(p.env==="node"||!p.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node)n=require.nodeRequire("fs"),t.get=function(e,t){var r=n.readFileSync(e,"utf8");r.indexOf("ï»¿")===0&&(r=r.substring(1)),t(r)};else if(p.env==="xhr"||!p.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);p.onXhr&&p.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText))},s.send(null)};else if(p.env==="rhino"||!p.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(p.env==="xpconnect"||!p.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),t.get=function(e,t){var n,s,o={},u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),s.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),o),s.close(),n.close(),t(o.value)}catch(a){throw new Error((u&&u.path||"")+": "+a)}};return t}),define("text!templates/tabs.html",[],function(){return'<div class="row-fluid">\n	<div class="widget widget-tabs widget-tabs-left">\n		<div class="widget-title">\n			<!--<h4>Donation</h4>-->\n			<span class="tools"></span>\n			<!--<div class="widget-buttons"></div>-->\n		</div>\n		<div class="widget-body">\n			<div class="form-horizontal">\n				<div class="tabbable portlet-tabs">\n					<ul class="nav nav-tabs">\n						<li class="active"><a href="#tabs-general" data-toggle="tab"><i class="icon-user"></i>&nbsp;{{tabGeneral}}</a></li>\n						<li class=""><a href="#tabs-emails" data-toggle="tab"><i class="icon-envelope"></i>&nbsp;{{tabEmails}}</a></li>\n						<li class=""><a href="#tabs-email-providers" data-toggle="tab"><i class="icon-envelope"></i>&nbsp;{{tabEmailProviders}}</a></li>\n						<li class=""> <a href="#tabs-gateways" data-toggle="tab"><i class="icon-play-circle"></i>&nbsp;{{tabGateway}}</a></li>\n						<li class=""><a href="#tabs-tracking" data-toggle="tab"><i class="icon-shopping-cart"></i>&nbsp;{{tabTracking}}</a></li>\n						<li class=""><a href="#tabs-maillist" data-toggle="tab"><i class="icon-shopping-cart"></i>&nbsp;{{tabMaillist}}</a></li>\n						<li class=""><a href="#tabs-licensing" data-toggle="tab"><i class="icon-envelope"></i>&nbsp;{{tabLicensing}}</a></li>\n						<li class=""><a href="#tabs-socialnetworks" data-toggle="tab"><i class="icon-group"></i>&nbsp;{{tabSocialNetworks}}</a></li>\n						\n					</ul>\n					\n					<div class="tab-content" >\n						<div class="tab-pane fade in active" id="tabs-general">\n							\n						</div>\n						\n						<div class="tab-pane fade in " id="tabs-emails">\n							\n						</div>\n						\n						<div class="tab-pane fade in " id="tabs-email-providers">\n							\n						</div>\n						\n						<div class="tab-pane fade in " id="tabs-gateways">\n							\n						</div>\n						\n						<div class="tab-pane fade in " id="tabs-tracking">\n							\n						</div>\n						\n						<div class="tab-pane fade in " id="tabs-maillist">\n							\n						</div>\n						\n						<div class="tab-pane fade in " id="tabs-licensing">\n							<p class="license-description">\n								{{licenseNotActiveDesc}}\n							</p>\n							\n						</div>\n						\n						<div class="tab-pane fade in " id="tabs-socialnetworks">\n							\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>'}),define("text!templates/general-settings.html",[],function(){return'	\n<div  class="control-group">\n	<label class="control-label" for="exceptionNotification">{{sendErrorNotificationsTo}}</label>\n	<div class="controls">\n		<input  class="m-wra tags" type="text" id="exceptionNotification" name="exceptionNotification" />\n	</div>\n</div>\n\n<div  class="control-group">\n	<label class="control-label" for="activeThemeName">{{activeTheme}}</label>\n	<div class="controls">\n		<select class="input-large m-wrap" id="activeThemeName"  name="activeThemeName"></select>\n	</div>\n</div>\n\n<div  class="control-group">\n	<label class="control-label" for="organizationName">{{organizationName}}</label>\n	<div class="controls">\n		<input  class="m-wra" type="text" id="organizationName" name="organizationName" />\n	</div>\n</div>\n<div  class="control-group">\n	<label class="control-label" for="organizationName">{{signature}}</label>\n	<div class="controls">\n		<input  class="m-wra" type="text" id="signature" name="signature" />\n	</div>\n</div>\n\n<div  class="control-group">\n	<label class="control-label" for="loginPage">{{loginPage}}</label>\n	<div class="controls" id="login-page"></div>\n</div>\n\n<div  class="control-group">\n	<label class="control-label" for="registrationThankYouPage">{{registrationThankYouPage}}</label>\n	<div class="controls" id="registration-thank-you-page"></div>\n</div>\n<div  class="control-group">\n	<label class="control-label" for="gridRows">{{gridRows}}</label>\n	<div class="controls">\n		<input  class="m-wra" type="text" id="gridRows" name="gridRows" />\n	</div>\n</div>\n<div class="form-actions">\n	<button class="btn btn-primary" id="save"><i class="icon-save"></i>&nbsp;Save</button>\n</div>\n'}),define("models/license",[],function(){var e=Backbone.Model.extend({action:"entryPointLicense",defaults:{value:""},initialize:function(){},validate:function(e){}});return e}),define("views/general-settings",["text!templates/general-settings.html","localization","models/license","jquery","tagsInput"],function(e,t,n,r){var i=Backbone.View.extend({translation:null,template:_.template(e),bindings:{"#exceptionNotification":"exceptionNotification","#organizationName":"organizationName","#signature":"signature","#loginPage":"loginPage","#license":{observe:"license",onGet:function(e,t){return this.licenseBox(e===""),e}},"#activeThemeName":{observe:"activeThemeName",selectOptions:{collection:function(){return[null,{id:"conquer",name:"Conquer"}]},labelPath:"name",valuePath:"id"}},"#gridRows":"gridRows"},events:{"click #save":"saveSettings"},saveSettings:function(){var e=this.$("#loginPage").val();this.model.set("loginPage",e);var t=this.$("#registrationThankYouPage").val();return this.model.set("registrationThankYouPage",t),this.model.set("exceptionNotification",r("#exceptionNotification").val()),this.model.save(),!1},initialize:function(e){},render:function(){this.$el.html(this.template(t.toJSON())),this.stickit();var e=r(WpPagesDropDown);e.addClass("input-large"),e.val(this.model.get("loginPage")),this.$("#login-page").append(e);var n=r(WpThankYouPagesDropDown);return n.addClass("input-large"),n.val(this.model.get("registrationThankYouPage")),this.$("#registration-thank-you-page").append(n),r("#exceptionNotification").tagsInput({width:"auto",defaultText:t.get("addEmail")}),this}});return i}),define("text!templates/gateway-settings.html",[],function(){return'<div class="row-fluid">\n	<div  class="span4 sortable">\n		<!-- END GRID SAMPLE PORTLET-->\n		<!-- BEGIN GRID SAMPLE PORTLET-->\n		<div class="widget">\n			<div class="widget-title">\n				<h4><i class="icon-reorder"></i>Plugins Testing Mode</h4>\n				<span class="tools">\n				</span>							\n			</div>\n			<div class="widget-body">	\n					<ul id="registered-plugins" class="chats">\n						\n					</ul>\n			</div>\n		</div>\n		<!-- END GRID SAMPLE PORTLET-->\n	</div>\n	<div class="span4 sortable">\n		<!-- BEGIN GRID SAMPLE PORTLET-->\n		<div class="widget">\n			<div class="widget-title">\n				<h4><i class="icon-reorder"></i>Active Gateway</h4>\n				<span class="tools">\n				</span>							\n			</div>\n			<div class="widget-body">\n				<div  class="control-group activeGateaway">\n					<label class="control-label" for="activeGateway">{{activeGateway}}</label>\n					<div class="controls">\n						<select class="input-large m-wrap" id="activeGateway"  name="activeGateway"></select>\n					</div>\n				</div>\n				<div id=\'recurring\' class="alert alert-block alert-warning fade in">\n					<h4 class="alert-heading">Recurring</h4>\n					<br/>\n					<p id=\'recurring-message\'>\n						\n						{{recurringDisabled}}\n					</p>\n				</div>\n			</div>\n		</div>\n	</div>\n	\n</div>\n\n\n\n\n\n\n<div class="alert">\n	<strong>Warning!</strong> Be careful modifying these settings\n</div>\n<div class="form-actions">\n	<button class="btn btn-primary" id="save"><i class="icon-save"></i>&nbsp;Save</button>\n</div>\n'}),define("models/gateway",[],function(){var e=Backbone.Model.extend({action:"entryPointGateways",defaults:{},initialize:function(){},validate:function(e){}});return e}),define("collections/gateways",["models/gateway"],function(e){var t=Backbone.Collection.extend({model:e,action:"entryPoint"});return t}),define("text!templates/gateway-default.html",[],function(){return'\n\n<div class="widget">\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>Default</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>							\n	</div>\n	<div class="widget-body" style="display:none;">\n		No settings\n	</div>\n</div>\n'}),define("views/gateway-default",["text!templates/gateway-default.html","localization"],function(e,t){var n=Backbone.View.extend({translation:null,template:_.template(e),bindings:{},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this}});return n}),define("text!templates/gateway-dummy.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>Dummy</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>							\n	</div>\n	<div class="widget-body" style="display:none;">\n		<div class="alert alert-info">\n			{{dummyAlertInfo}}\n		</div>\n		No need to configure settings \n	</div>\n</div>'}),define("views/gateway-dummy",["text!templates/gateway-dummy.html","localization"],function(e,t){var n=Backbone.View.extend({translation:null,template:_.template(e),bindings:{},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this}});return n}),define("text!templates/gateway-authorizenet.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>Authorize.net</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>\n	</div>\n	<div class="widget-body" style="display:none;">\n		\n		<h4>{{liveMode}}</h4>\n		<div  class="control-group">\n			<label class="control-label" for="authorizationType">{{authorizationType}}</label>\n			<div class="controls">\n				<select class="input-large m-wrap" id="authorizationType"  name="authorizationType"></select>\n			</div>\n		</div>\n		<div  class="control-group">\n			<label class="control-label" for="loginLive">{{login}}</label>\n			<div class="controls">\n				<input  class="input-large" type="text" id="loginLive" name="loginLive" />\n			</div>\n		</div>\n		<div  class="control-group">\n			<label class="control-label" for="delimiter">{{delimiter}}</label>\n			<div class="controls">\n				<input  class="input-small" type="text" id="delimiter" name="delimiter" />\n			</div>\n		</div>\n		\n		<div  class="control-group">\n			<label class="control-label" for="transactionKey">{{transactionKey}}</label>\n			<div class="controls">\n				<input  class="input-large" type="password" id="transactionKey" name="transactionKey" />\n			</div>\n		</div>\n\n		<h4>{{testMode}}</h4>\n		<div  class="control-group">\n			<label class="control-label" for="authorizationTypeTest">{{authorizationType}}</label>\n			<div class="controls">\n				<select class="input-large m-wrap" id="authorizationTypeTest"  name="authorizationTypeTest"></select>\n			</div>\n		</div>\n		<div  class="control-group">\n			<label class="control-label" for="loginTest">{{login}}</label>\n			<div class="controls">\n				<input  class="input-large" type="text" id="loginTest" name="loginTest" />\n			</div>\n		</div>\n\n		<div  class="control-group">\n			<label class="control-label" for="transactionKeyTest">{{transactionKey}}</label>\n			<div class="controls">\n				<input  class="input-large" type="password" id="transactionKeyTest" name="transactionKeyTest" />\n			</div>\n		</div>\n\n	</div>\n</div>\n\n\n'}),define("views/gateway-authorizenet",["text!templates/gateway-authorizenet.html","localization"],function(e,t){var n=Backbone.View.extend({translation:null,template:_.template(e),authorizationType:[null,{id:"AUTH_CAPTURE",name:"Authorize and Capture"},{id:"AUTH_ONLY",name:"Authorize only"},{id:"PRIOR_AUTH_CAPTURE",name:"PRIOR_AUTH_CAPTURE"},{id:"CAPTURE_ONLY",name:"Capture only"},{id:"CREDIT",name:"Credit"}],bindings:{"#authorizationType":{observe:"authorizationType",selectOptions:{collection:function(){return this.authorizationType},labelPath:"name",valuePath:"id"}},"#authorizationTypeTest":{observe:"authorizationTypeTest",selectOptions:{collection:function(){return this.authorizationType},labelPath:"name",valuePath:"id"}},"#transactionKeyTest":"transactionKeyTest","#transactionKey":"transactionKey","#loginLive":"login","#loginTest":"loginTest","#delimiter":"delimiter"},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this.stickit(),this}});return n}),define("text!templates/gateway-offline.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>Offline</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>							\n	</div>\n	<div class="widget-body" style="display:none;">\n		<div class="alert alert-info">\n			{{offlineAlertInfo}}\n		</div>\n		No need to configure settings \n	</div>\n</div>'}),define("views/gateway-offline",["text!templates/gateway-offline.html","localization"],function(e,t){var n=Backbone.View.extend({translation:null,template:_.template(e),bindings:{},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this}});return n}),define("text!templates/gateway-navigate.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>Navigate</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>\n	</div>\n	<div class="widget-body" style="display:none;">\n		\n		<div  class="control-group">\n			<label class="control-label" for="authorizationType">{{authorizationType}}</label>\n			<div class="controls">\n				<select class="input-large m-wrap" id="authorizationType"  name="authorizationType"></select>\n			</div>\n		</div>\n		<div  class="control-group">\n			<label class="control-label" for="loginLive">{{login}}</label>\n			<div class="controls">\n				<input  class="input-large" type="text" id="loginLive" name="loginLive" />\n			</div>\n		</div>\n		\n		<div  class="control-group">\n			<label class="control-label" for="transactionKey">{{transactionKey}}</label>\n			<div class="controls">\n				<input  class="input-large" type="password" id="transactionKey" name="transactionKey" />\n			</div>\n		</div>\n\n\n	</div>\n</div>\n\n\n'}),define("views/gateway-navigate",["text!templates/gateway-navigate.html","localization"],function(e,t){var n=Backbone.View.extend({translation:null,template:_.template(e),authorizationType:[null,{id:"AUTH_CAPTURE",name:"Authorize and Capture"},{id:"AUTH_ONLY",name:"Authorize only"},{id:"PRIOR_AUTH_CAPTURE",name:"PRIOR_AUTH_CAPTURE"},{id:"CAPTURE_ONLY",name:"Capture only"},{id:"CREDIT",name:"Credit"}],bindings:{"#authorizationType":{observe:"authorizationType",selectOptions:{collection:function(){return this.authorizationType},labelPath:"name",valuePath:"id"}},"#transactionKey":"transactionKey","#loginLive":"login"},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this.stickit(),this}});return n}),define("text!templates/gateway-registered-plugin.html",[],function(){return'<li class="in">\n	<img class="avatar" alt="" id="avatar" src="" />\n	<div class="message">\n		<span class="arrow"></span>\n		<div  class="control-group">\n			<label class="control-label" id="name" > </label>\n			<div class="controls">\n				<div class="text-toggle-button">\n					<input type="checkbox" class="toggle" checked="checked" id="value" name="value"/>\n				</div>\n				 \n			</div>\n		</div>\n	</div>\n</li>'}),define("views/gateway-registered-plugin",["text!templates/gateway-registered-plugin.html","localization"],function(e,t){var n=Backbone.View.extend({translation:null,template:_.template(e),bindings:{"#value":"value","#name":{observe:"name",updateMethod:"html"}},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this.$el.find("#avatar").attr("src",this.model.get("img")),this.stickit(),this}});return n}),define("views/gateway-settings",["jquery","text!templates/gateway-settings.html","localization","collections/gateways","views/gateway-default","views/gateway-dummy","views/gateway-authorizenet","views/gateway-offline","views/gateway-navigate","views/gateway-registered-plugin","models/Option","toggleButtons"],function(e,t,n,r,i,s,o,u,a,f,l){var c=Backbone.View.extend({translation:null,template:_.template(t),gateways:null,registeredPluginsModels:[],events:{"click #save":"saveSettings","click .widget .tools .icon-chevron-down, .widget .tools .icon-chevron-up ":"toggleWindow"},views:null,toggleWindow:function(e){var t=jQuery(e.target).closest(".widget").children(".widget-body");jQuery(e.target).hasClass("icon-chevron-down")?(jQuery(e.target).removeClass("icon-chevron-down").addClass("icon-chevron-up"),t.slideUp(200)):(jQuery(e.target).removeClass("icon-chevron-up").addClass("icon-chevron-down"),t.slideDown(200))},bindings:{"#activeGateway":{observe:"activeGateway",selectOptions:{collection:function(){return[null,{id:"default",name:"Default"},{id:"authorize.net",name:"Authorize.Net"},{id:"dummy",name:"Dummy"},{id:"offline",name:"Offline"},{id:"navigate",name:"Navigate"}]},labelPath:"name",valuePath:"id"}}},saveSettings:function(){var e=this;this.gateways.update();var t=e.model.get("registeredPluginsGateway");return _.each(this.registeredPluginsModels,function(e){t[e.get("id")]=e.get("value")=="false"||e.get("value")==0?0:1}),this.model.save(),!1},initialize:function(e){this.gateways=new r,this.gateways.reset(MavenGateways),_.bindAll(this,"saveSettings","toggleWindow"),this.model.bind("change:activeGateway",this.reorderViews)},reorderViews:function(e){var t=this.model.get("activeGateway"),n=null;_.each(this.views,function(e,r){var i=e.$el.find(".widget .widget-body");t==r?n=e:e.$el.attr("class")!="icon-chevron-down"&&(e.$el.find(".tools a").removeClass("icon-chevron-down").addClass("icon-chevron-up"),i.slideUp(200))}),this.$el.prepend(n.el),this.showView(n),this.updateRecurringSetting(n.model.get("manageProfile"))},updateRecurringSetting:function(e){this.model.set("recurringEnabled",e),this.showRecurringMessage(e)},showRecurringMessage:function(e){e?(this.$("#recurring").removeClass("alert-warning").addClass("alert-success"),this.$("#recurring-message").html(n.get("recurringEnabled"))):(this.$("#recurring").removeClass("alert-success").addClass("alert-warning"),this.$("#recurring-message").html(n.get("recurringDisabled")))},render:function(){var e=this;this.$el.html(this.template(n.toJSON()));var t=this.model.get("activeGateway"),r=new i({model:this.gateways.get("default"),activeGateway:t}),c=new s({model:this.gateways.get("dummy"),activeGateway:t}),h=new o({model:this.gateways.get("authorize.net"),activeGateway:t}),p=new u({model:this.gateways.get("offline"),activeGateway:t}),d=new a({model:this.gateways.get("navigate"),activeGateway:t});this.views={"default":r,dummy:c,"authorize.net":h,offline:p,navigate:d};var v=null;_.each(this.views,function(n,r){t==r?v=n:e.$el.prepend(n.render().el)}),v!=null&&(this.$el.prepend(v.render().el),this.showView(v),this.updateRecurringSetting(v.model.get("manageProfile")));var m=this.model.get("registeredPluginsGateway");return _.each(m,function(t,n){var r=new l;r.set("id",n),r.set("value",t=="false"||t=="0"?!1:!0);switch(n){case"mavencommon":r.set("name","Maven Common"),r.set("img",Maven.adminImagesPath+"logos/maven.png");break;case"mavendonations":r.set("name","Maven Donations"),r.set("img",Maven.adminImagesPath+"logos/maven-donations.png");break;case"mavenevents":r.set("name","Maven Events"),r.set("img",Maven.adminImagesPath+"logos/maven-events.png");break;case"mavenshop":r.set("name","Maven Shop"),r.set("img",Maven.adminImagesPath+"logos/maven-shop.png")}var i=new f({model:r});e.registeredPluginsModels.push(r),e.$el.find("#registered-plugins").append(i.render().el)}),this.$(".text-toggle-button").toggleButtons({width:100,label:{enabled:"Test",disabled:"Live"}}),this.stickit(),this},showView:function(e){e.$el.find(".tools a").removeClass("icon-chevron-up").addClass("icon-chevron-down"),e.$el.find(".widget .widget-body").fadeIn("slow")}});return c}),define("text!templates/tracking-settings.html",[],function(){return'<div class="row-fluid">\n	<div  class="span4 sortable">\n		<!-- END GRID SAMPLE PORTLET-->\n		<!-- BEGIN GRID SAMPLE PORTLET-->\n		<div class="widget">\n			<div class="widget-title">\n				<h4><i class="icon-reorder"></i>{{activeTrackers}}</h4>\n				<span class="tools">\n				</span>							\n			</div>\n			<div class="widget-body">	\n					<ul id="registered-trackers" class="chats">\n						\n						\n					</ul>\n			</div>\n		</div>\n		<!-- END GRID SAMPLE PORTLET-->\n	</div>\n</div>\n\n\n\n\n<div class="form-actions">\n	<button class="btn btn-primary" id="save"><i class="icon-save"></i>&nbsp;Save</button>\n</div>\n \n'}),define("text!templates/tracker-google-analytics.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>Google Analytics</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>\n	</div>\n	<div class="widget-body" style="display:none;">\n		\n		<div  class="control-group">\n			<label class="control-label" for="analyticsAccountId">{{analyticsAccountId}}</label>\n			<div class="controls">			  \n				<input  class="input-large" type="text" id="analyticsAccountId" name="analyticsAccountId" />\n			</div>\n		</div>\n		<div  class="control-group">\n			<label class="control-label" for="domain">{{domain}}</label>\n			<div class="controls">\n				<input  class="input-large" type="text" id="domain" name="domain" />\n			</div>\n		</div>\n\n	</div>\n</div>\n\n\n'}),define("views/tracker-google-analytics",["text!templates/tracker-google-analytics.html","localization"],function(e,t){var n=Backbone.View.extend({template:_.template(e),bindings:{"#analyticsAccountId":"analyticsAccountId","#domain":"domain"},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this.stickit(),this}});return n}),define("models/tracker",[],function(){var e=Backbone.Model.extend({action:"entryPointTrackers",defaults:{},initialize:function(){},validate:function(e){}});return e}),define("collections/trackers",["models/tracker"],function(e){var t=Backbone.Collection.extend({model:e,action:"entryPointTrackers"});return t}),define("text!templates/tracker-registered.html",[],function(){return'<li class="in">\n	<img class="avatar" alt="" id="avatar" src="" />\n	<div class="message">\n		<span class="arrow"></span>\n		<div  class="control-group">\n			<label class="control-label" id="name" > </label>\n			<div class="controls">\n				<div class="toggle-button">\n					<input type="checkbox" class="toggle"  id="value" />\n				</div>\n				 \n			</div>\n		</div>\n	</div>\n</li>'}),define("views/tracker-registered",["text!templates/tracker-registered.html","localization"],function(e,t){var n=Backbone.View.extend({translation:null,template:_.template(e),bindings:{"#value":{observe:"value"},"#name":{observe:"name",updateMethod:"html"}},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this.stickit(),this.$el.find("#avatar").attr("src",this.model.get("img")),this.model.get("value")===1&&this.$el.find("#value").attr("checked","checked"),this}});return n}),define("text!templates/tracker-segment-io.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>Segment.io</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>\n	</div>\n	<div class="widget-body" style="display:none;">\n		\n		<div  class="control-group">\n			<label class="control-label" for="segmentIoKey">{{segmentIoId}}</label>\n			<div class="controls">			  \n				<input  class="input-large" type="text" id="segmentIoKey" name="segmentIoKey" />\n			</div>\n		</div>\n		\n\n	</div>\n</div>\n\n\n'}),define("views/tracker-segment-io",["text!templates/tracker-segment-io.html","localization"],function(e,t){var n=Backbone.View.extend({template:_.template(e),bindings:{"#segmentIoKey":"segmentIoKey"},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this.stickit(),this}});return n}),define("views/tracking-settings",["jquery","text!templates/tracking-settings.html","localization","views/tracker-google-analytics","models/Option","collections/trackers","views/tracker-registered","views/tracker-segment-io","toggleButtons"],function(e,t,n,r,i,s,o,u){var a=Backbone.View.extend({translation:null,template:_.template(t),trackers:null,registeredTrackersModels:[],events:{"click #save":"saveSettings","click .widget .tools .icon-chevron-down, .widget .tools .icon-chevron-up ":"toggleWindow"},views:null,toggleWindow:function(e){var t=jQuery(e.target).closest(".widget").children(".widget-body");jQuery(e.target).hasClass("icon-chevron-down")?(jQuery(e.target).removeClass("icon-chevron-down").addClass("icon-chevron-up"),t.slideUp(200)):(jQuery(e.target).removeClass("icon-chevron-up").addClass("icon-chevron-down"),t.slideDown(200))},bindings:{},saveSettings:function(){this.trackers.update();var e=this.model.get("enabledTrackers");return _.each(this.registeredTrackersModels,function(t){e[t.get("id")]=t.get("value")=="false"||t.get("value")==0?0:1}),this.model.save(),!1},initialize:function(e){this.trackers=new s,this.trackers.reset(MavenTrackers)},render:function(){var e=this;this.$el.html(this.template(n.toJSON()));var t=new r({model:this.trackers.get("googleanalytics")});this.$el.prepend(t.render().el);var s=new u({model:this.trackers.get("segment.io")});this.$el.prepend(s.render().el);var a=this.model.get("enabledTrackers");return this.trackers.each(function(t){var n=new i,r=t.get("id");n.set("id",r);switch(r){case"googleanalytics":n.set("name","Google Analytics"),n.set("img",Maven.adminImagesPath+"logos/ga.png");break;case"segment.io":n.set("name","Segment.io"),n.set("img",Maven.adminImagesPath+"logos/segment-io.png")}n.set("value",a[r]===!1||a[r]==="0"?0:1);var s=new o({model:n});e.registeredTrackersModels.push(n),e.$el.find("#registered-trackers").append(s.render().el)}),this.stickit(),this.$(".toggle-button").toggleButtons({width:100}),this}});return a}),define("text!templates/email-settings.html",[],function(){return'<div  class="control-group">\n	<label class="control-label" for="senderEmail">{{senderEmail}}</label>\n	<div class="controls">\n		<input  class="m-wra tags" type="text" id="senderEmail" name="senderEmail" />\n	</div>\n</div>\n<div  class="control-group">\n	<label class="control-label" for="senderName">{{senderName}}</label>\n	<div class="controls">\n		<input  class="m-wra tags" type="text" id="senderName" name="senderName" />\n	</div>\n</div>\n<div  class="control-group">\n	<label class="control-label" for="contactEmail">{{contactEmail}}</label>\n	<div class="controls">\n		<input  class="m-wra tags" type="text" id="contactEmail" name="contactEmail" />\n		<span id="mandrill-warning" class="help-inline" style="">{{contactEmailHelp}}</span>\n	</div>\n</div>\n<div class="control-group">\n	<label class="control-label">{{bccNotificationsTo}}</label>\n	<div class="controls">\n		<input id="bccNotificationsTo" type="text" class="m-wra tags" value="" />\n	</div>\n</div>\n<div class="control-group">\n	<label class="control-label">{{organizationLogo}}</label>\n	<div class="controls input-icon">\n		<img src=\'\' class=\'preview upload_image_button\' />\n		<span class="input-info tooltips" data-original-title="{{ organizationLogo }}">\n			<i class="icon-exclamation-sign"></i>\n		</span>\n\n	</div>\n</div>\n<div class="control-group">\n	<label class="control-label">{{emailBackgroundColor}}</label>\n	<div class="controls">\n		<input id="emailBackgroundColor" type="text" class="m-wra" value="" />\n	</div>\n</div>\n<div  class="control-group">\n	<label class="control-label" for="emailTemplate">{{emailTemplate}}</label>\n	<!-- <div class="controls">\n		<select class="input-large m-wrap" id="emailTemplate"  name="emailTemplate"></select>\n	</div> -->\n	<div class="controls" id="emailTemplates">\n		\n	</div>\n</div>\n\n\n<div class="form-actions">\n	<a href="#" role="button" class="btn btn-warning" id="test-email">Test Email</a>\n	<button class="btn btn-primary" id="save"><i class="icon-save"></i>&nbsp;Save</button>\n</div>\n\n<div id="email-tester-modal" class="modal hide" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\n</div>\n\n\n\n '}),define("text!templates/email-tester.html",[],function(){return'<div class="modal-header"><h3>Test email</h3></div>\n<div class="modal-body">\n	<div  class="control-group">\n		<label class="control-label" for="emailProvider">{{emailProvider}}</label>\n		<div class="controls">\n			<select class="input-large m-wrap" id="emailProvider"  name="emailProvider"></select>\n		</div>\n	</div>\n	<div  class="control-group">\n		<label class="control-label" for="emailTo">{{emailTo}}</label>\n		<div class="controls">\n			<input  class="input-large" type="text" id="emailTo" name="emailTo" />\n		</div>\n	</div>\n	<div  class="control-group">\n		<label class="control-label" for="emailCC">{{emailCC}}</label>\n		<div class="controls">\n			<input  class="input-large" type="text" id="emailCC" name="emailCC" />\n		</div>\n	</div>\n	<div  class="control-group">\n		<label class="control-label" for="emailBCC">{{emailBCC}}</label>\n		Mandrill\'s API only accept one BCC address. The other addresses supplied will be silently discarted\n		<div class="controls">\n			<input  class="input-large" type="text" id="emailBCC" name="emailBCC" />\n		</div>\n	</div>\n	<div  class="control-group">\n		<label class="control-label" for="subject">{{subject}}</label>\n		<div class="controls">\n			<input  class="input-large" type="text" id="subject" name="subject" />\n		</div>\n	</div>\n	<div  class="control-group">\n		<label class="control-label" for="message">{{message}}</label>\n		<div class="controls">\n			<textarea  class="simpleEditor span12 wysihtml5" rows="7" cols="7" name="message" id="message"></textarea>\n		</div>\n	</div>\n</div>\n<div class="modal-footer">\n	<button class="btn btn-primary" id="run-test"><i class="icon-inbox"></i>&nbsp;Test</button>\n	<a class="btn close " data-dismiss="modal" data-target="#email-tester-modal">Close</a>\n	\n</div>\n\n'}),define("models/email-test",[],function(){var e=Backbone.Model.extend({action:"emailEntryPoint",defaults:{emailProvider:"",to:"",cc:"",bcc:"",subject:"",message:""},initialize:function(){},validate:function(e){}});return e}),define("views/email-tester",["text!templates/email-tester.html","localization","jquery","models/email-test"],function(e,t,n,r){var i=Backbone.View.extend({translation:null,el:"#email-tester-modal",template:_.template(e),bindings:{"#emailTo":"to","#emailCC":"cc","#emailBCC":"bcc","#subject":"subject","#message":"message","#emailProvider":{observe:"emailProvider",selectOptions:{collection:function(){return[null,{id:"mandrill",name:"Mandrill"},{id:"wordpress",name:"Wordpress"},{id:"postmark",name:"Postmark"},{id:"amazonSes",name:"Amazon Ses"}]},labelPath:"name",valuePath:"id"}}},events:{"click #run-test":"runTest"},runTest:function(){this.model.save({},{success:function(e,t){}})},show:function(){this.$el.modal({modal:"show"})},saveSettings:function(){return this.model.set("bccNotificationsTo",n("#bccNotificationsTo").val()),this.model.save(),!1},initialize:function(e){this.model=new r},render:function(){return this.$el.html(this.template(t.toJSON())),this.$el.modal({backdrop:"static"}),this.stickit(),this}});return i}),define("text!templates/email-template.html",[],function(){return'<div class="email-template {{activeClass}}">\n	<input type="hidden" value="{{id}}" />\n	<a href="#" class="sshot"><img src="{{img}}" alt=""></a>\n	<h3>{{name}}</h3>\n</div>'}),define("views/email-settings",["text!templates/email-settings.html","localization","jquery","views/email-tester","text!templates/email-template.html","wpuploader","jqueryForm","tagsInput"],function(e,t,n,r,i,s){var o=Backbone.View.extend({translation:null,el:"tabs-emails",template:_.template(e),testerModalView:null,bindings:{"#senderEmail":"senderEmail","#senderName":"senderName","#contactEmail":"contactEmail","#bccNotificationsTo":"bccNotificationsTo","#emailBackgroundColor":"emailBackgroundColor"},events:{"click #save":"saveSettings","click #test-email":"testEmail","click .email-template":"changeActiveEmailTemplate","click .upload_image_button":"showUploader"},changeActiveEmailTemplate:function(e){return n(".email-template").removeClass("active"),n(e.target).closest(".email-template").addClass("active"),!1},showUploader:function(){var e=this;s.show(function(t){e.model.set("organizationLogo",t.id),e.replaceImage(t.url)})},testEmail:function(){this.testerModalView?this.testerModalView.show():(this.testerModalView=new r,this.testerModalView.render())},saveSettings:function(){return this.model.set("bccNotificationsTo",n("#bccNotificationsTo").val()),this.model.set("emailTemplate",n(".email-template.active input").val()),this.model.save(),!1},initialize:function(e){},replaceImage:function(e){this.$(".preview").attr("src",e)},render:function(){var e=this;return this.$el.html(this.template(t.toJSON())),_.each(MavenEmailTemplates,function(t){t.activeClass="",e.model.get("emailTemplate")==t.id&&(t.activeClass="active"),html=_.template(i),html=html(t),n("#emailTemplates").append(html)}),this.model.get("organizationLogoUrl")?this.replaceImage(this.model.get("organizationLogoUrl")):this.replaceImage(Maven.noPhotoUrl),this.stickit(),n("#bccNotificationsTo").tagsInput({width:"auto",defaultText:t.get("addEmail")}),this}});return o}),define("text!templates/plugin-license.html",[],function(){return'\n<div id="license-box" class="alert alert-block alert-warning" >\n\n	<div>\n		<img class="avatar" alt="" id="avatar" src="" /><label class="control-label" id="name" > </label>\n		<textarea  class="span6"  id="value" name="license" ></textarea>\n		<a class="btn btn-success" id="activate-license" href="#"><i class="icon-ok-circle"></i>&nbsp; {{activate}}</a>\n		<a class="btn btn-danger" id="deactivate-license" href="#"><i class="icon-remove-circle"></i>&nbsp; {{deactivate}}</a>\n	</div>\n</div>'}),define("views/plugin-license",["text!templates/plugin-license.html","localization","jquery","models/license"],function(e,t,n,r){var i=Backbone.View.extend({template:_.template(e),bindings:{"#value":"value","#name":{observe:"name",updateMethod:"html"}},events:{"click #activate-license":"activateLicense","click #deactivate-license":"deactivateLicense"},activateLicense:function(){var e=this;lic=new r,lic.set("id",this.model.get("id")),lic.set("value",this.model.get("value")),lic.save(null,{success:function(){e.validLicenseBox(!0)}})},deactivateLicense:function(){var e=this;lic=new r,lic.set("id",this.model.get("id")),lic.set("value",""),lic.save(null,{success:function(){e.validLicenseBox(!1)}})},validLicenseBox:function(e){e?(this.$("#license-box").removeClass("alert-warning"),this.$("#license-box").addClass("alert-success"),this.$("#activate-license").hide(),this.$("#deactivate-license").show(),this.$("#value").attr("readonly",!0),this.$("#license-box").show("fast")):(this.$("#license-box").removeClass("alert-success"),this.$("#license-box").addClass("alert-warning"),this.$("#activate-license").show(),this.$("#deactivate-license").hide(),this.$("#value").attr("readonly",!1),this.$("#license-box").show("fast"))},render:function(){return this.$el.html(this.template(t.toJSON())),this.$el.find("#avatar").attr("src",this.model.get("img")),this.stickit(),this.validLicenseBox(this.model.get("value")!==""),this}});return i}),define("views/licenses-settings",["jquery","localization","views/plugin-license","models/Option"],function(e,t,n,r){var i=Backbone.View.extend({el:"#tabs-licensing",initialize:function(e){},render:function(){var e=this,t=this.model.get("registeredPluginsLicensing");return _.each(t,function(t,i){var s=new r;s.set("id",i),s.set("value",t);switch(i){case"mavencommon":s.set("name","Maven Common"),s.set("img",Maven.adminImagesPath+"logos/maven.png");break;case"mavendonations":s.set("name","Maven Donations"),s.set("img",Maven.adminImagesPath+"logos/maven-donations.png");break;case"mavenevents":s.set("name","Maven Events"),s.set("img",Maven.adminImagesPath+"logos/maven-events.png");break;case"mavenshop":s.set("name","Maven Shop"),s.set("img",Maven.adminImagesPath+"logos/maven-shop.png")}view=new n({model:s}),e.$el.append(view.render().el)}),this}});return i}),define("text!templates/maillist-settings.html",[],function(){return'<div class="row-fluid">\n	\n	<div class="span4 sortable">\n		<!-- BEGIN GRID SAMPLE PORTLET-->\n		<div class="widget">\n			<div class="widget-title">\n				<h4><i class="icon-reorder"></i>Active Mail List Provider</h4>\n				<span class="tools">\n				</span>							\n			</div>\n			<div class="widget-body">\n				<div  class="control-group">\n					<label class="control-label" for="emailProvider">Mail List</label>\n					<div class="controls">\n						<select class="input-large m-wrap" id="emailProvider"  name="emailProvider"></select>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n\n\n<div class="form-actions">\n	<button class="btn btn-primary" id="save"><i class="icon-save"></i>&nbsp;Save</button>\n</div>\n'}),define("models/maillist-provider",[],function(){var e=Backbone.Model.extend({action:"entryPointMailLists",defaults:{name:"",label:"",type:"",value:"",defaultValue:"",group:""},initialize:function(){},validate:function(e){}});return e}),define("models/email-provider",[],function(){var e=Backbone.Model.extend({action:"entryPointMailProviders",defaults:{name:"",label:"",type:"",value:"",defaultValue:"",group:""},initialize:function(){},validate:function(e){}});return e}),define("collections/email-providers",["models/email-provider"],function(e){var t=Backbone.Collection.extend({action:"entryPointEmailProviders",model:e});return t}),define("text!templates/mailproviders-generic.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-play-circle"></i>{{label}}</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>\n	</div>\n	<div  class="widget-body html-controls" style="display:none;">\n		\n		\n\n\n	</div>\n</div>\n\n\n'}),define("text!templates/mailproviders-generic-setting.html",[],function(){return'\n<div  class="control-group">\n	<label class="control-label" for="{{name}}">{{name}}</label>\n	<div class="controls">\n		{{html}}\n	</div>\n</div>\n'}),define("views/mail-provider-generic",["text!templates/mailproviders-generic.html","text!templates/mailproviders-generic-setting.html","models/Option","localization"],function(e,t,n,r){var i=Backbone.View.extend({translation:null,template:_.template(e),bindings:{},initialize:function(e){},render:function(){this.$el.html(this.template(this.model.toJSON()));var e=this,r=_.template(t),i=this.model.get("settings");return _.each(i,function(t){var i=new n;i.set("name",t.label),i.set("html",t.html),e.$(".html-controls").append(r(i.toJSON()))}),this}});return i}),define("views/maillist-settings",["jquery","text!templates/maillist-settings.html","localization","models/Option","models/maillist-provider","collections/email-providers","views/mail-provider-generic","toggleButtons"],function(e,t,n,r,i,s,o){var u=Backbone.View.extend({translation:null,template:_.template(t),mailProviders:null,mailProvidersViews:[],events:{"click #save":"saveSettings","click .widget .tools .icon-chevron-down, .widget .tools .icon-chevron-up ":"toggleWindow"},views:null,toggleWindow:function(e){var t=jQuery(e.target).closest(".widget").children(".widget-body");jQuery(e.target).hasClass("icon-chevron-down")?(jQuery(e.target).removeClass("icon-chevron-down").addClass("icon-chevron-up"),t.slideUp(200)):(jQuery(e.target).removeClass("icon-chevron-up").addClass("icon-chevron-down"),t.slideDown(200))},bindings:{"#emailProvider":{observe:"activeMaillist",selectOptions:{collection:function(){return MavenMailLists},labelPath:"label",valuePath:"id"}}},saveSettings:function(){var e=this,t=new i;return this.mailProviders.each(function(e){e.get("id").length>0&&(settings=e.get("settings"),_.each(settings,function(t){var n=e.get("view"),r=n.$el.find("#"+t.id).val();t.value=r}),t.set(e.id,settings))}),t.set("id","activeMaillist"),t.set("activeMaillist",this.model.get("activeMaillist")),t.save(),!1},initialize:function(e){this.mailProviders=new s,this.mailProviders.reset(MavenMailLists)},render:function(){var e=this;return this.$el.html(this.template(n.toJSON())),this.mailProviders.each(function(t){if(t.get("id").length>0){var n=new o({model:t});e.$el.prepend(n.render().el),t.set("view",n)}}),this.stickit(),this}});return u}),define("text!templates/mailproviders-settings.html",[],function(){return'<div class="row-fluid">\n	\n	<div class="span4 sortable">\n		<!-- BEGIN GRID SAMPLE PORTLET-->\n		<div class="widget">\n			<div class="widget-title">\n				<h4><i class="icon-reorder"></i>Active Email Provider</h4>\n				<span class="tools">\n				</span>							\n			</div>\n			<div class="widget-body">\n				<div  class="control-group">\n					<label class="control-label" for="emailProvider">{{emailProvider}}</label>\n					<div class="controls">\n						<select class="input-large m-wrap" id="emailProvider"  name="emailProvider"></select>\n						<span id="mandrill-warning" style="display:none;" class="help-inline">Mandrill\'s API only accept one BCC address. The other addresses supplied will be silently discarted </span>\n					</div>\n				</div>\n			</div>\n		</div>\n	</div>\n</div>\n\n\n<div class="form-actions">\n	<button class="btn btn-primary" id="save"><i class="icon-save"></i>&nbsp;Save</button>\n</div>\n'}),define("views/mail-provider-settings",["jquery","text!templates/mailproviders-settings.html","localization","models/Option","models/email-provider","collections/email-providers","views/mail-provider-generic","toggleButtons"],function(e,t,n,r,i,s,o){var u=Backbone.View.extend({translation:null,template:_.template(t),mailProviders:null,mailProvidersViews:[],events:{"click #save":"saveSettings","click .widget .tools .icon-chevron-down, .widget .tools .icon-chevron-up ":"toggleWindow"},views:null,toggleWindow:function(e){var t=jQuery(e.target).closest(".widget").children(".widget-body");jQuery(e.target).hasClass("icon-chevron-down")?(jQuery(e.target).removeClass("icon-chevron-down").addClass("icon-chevron-up"),t.slideUp(200)):(jQuery(e.target).removeClass("icon-chevron-up").addClass("icon-chevron-down"),t.slideDown(200))},bindings:{"#emailProvider":{observe:"emailProvider",selectOptions:{collection:function(){return MavenEmailProviders},labelPath:"label",valuePath:"id"},onSet:"emailProviderChange"}},emailProviderChange:function(e,t){return this.showMandrillWarning(e),e},showMandrillWarning:function(e){e==="mandrill"?this.$("#mandrill-warning").fadeIn("slow"):this.$("#mandrill-warning").fadeOut("slow")},saveSettings:function(){var e=this,t=new i;return this.mailProviders.each(function(e){settings=e.get("settings"),_.each(settings,function(t){var n=e.get("view"),r=n.$el.find("#"+t.id).val();t.value=r}),t.set(e.id,settings)}),t.set("id","mailProvider"),t.set("emailProvider",this.model.get("emailProvider")),t.save(),!1},initialize:function(e){this.mailProviders=new s,this.mailProviders.reset(MavenEmailProviders)},render:function(){var e=this;return this.$el.html(this.template(n.toJSON())),this.mailProviders.each(function(t){var n=new o({model:t});e.$el.prepend(n.render().el),t.set("view",n)}),this.stickit(),this.showMandrillWarning(this.model.get("emailProvider")),this}});return u}),define("text!templates/socialnetwork-settings.html",[],function(){return'<div class="row-fluid">\n	<div  class="span4 sortable">\n		<!-- END GRID SAMPLE PORTLET-->\n		<!-- BEGIN GRID SAMPLE PORTLET-->\n		<div class="widget">\n			<div class="widget-title">\n				<h4><i class="icon-reorder"></i>{{activeSocialNetworks}}</h4>\n				<span class="tools">\n				</span>							\n			</div>\n			<div class="widget-body">	\n					<ul id="registered-socialnetworks" class="chats">\n						\n						\n					</ul>\n			</div>\n		</div>\n		<!-- END GRID SAMPLE PORTLET-->\n	</div>\n</div>\n\n<div class="form-actions">\n	<button class="btn btn-primary" id="save"><i class="icon-save"></i>&nbsp;Save</button>\n</div>'}),define("text!templates/socialnetwork-facebook.html",[],function(){return'\n<div class="widget">\n\n	<div class="widget-title">\n		<h4><i class="icon-facebook-sign"></i>&nbsp;Facebook</h4>\n		<span class="tools">\n			<a href="javascript:;" class="icon-chevron-up"></a>\n		</span>							\n	</div>\n	<div class="widget-body" style="display:none;">\n		<div  class="control-group">\n			<label class="control-label" for="facebookAppId">{{facebookAppId}}</label>\n			<div class="controls">			  \n				<input  class="input-large" type="text" id="facebookAppId" name="facebookAppId" />\n			</div>\n		</div>\n		<div  class="control-group">\n			<label class="control-label" for="facebookSecret">{{facebookSecret}}</label>\n			<div class="controls">\n				<input  class="input-xxlarge" type="text" id="facebookSecret" name="facebookSecret" />\n			</div>\n		</div>\n		<div  class="control-group">\n			<label class="control-label" for="facebookAccessToken">{{facebookAccessToken}}</label>\n			<div class="controls">\n				<input  class="input-xxlarge" type="text" id="facebookAccessToken" name="facebookAccessToken" />\n			</div>\n		</div>\n	</div>\n</div>\n'}),define("views/socialnetwork-facebook",["text!templates/socialnetwork-facebook.html","localization"],function(e,t){var n=Backbone.View.extend({template:_.template(e),bindings:{"#facebookAppId":"facebookAppId","#facebookSecret":"facebookSecret","#facebookAccessToken":"facebookAccessToken"},initialize:function(e){},render:function(){return this.$el.html(this.template(t.toJSON())),this.stickit(),this}});return n}),define("models/socialnetwork",[],function(){var e=Backbone.Model.extend({action:"entryPointSocialNetworks",defaults:{},initialize:function(){},validate:function(e){}});return e}),define("collections/socialnetworks",["models/socialnetwork"],function(e){var t=Backbone.Collection.extend({model:e,action:"entryPointSocialNetworks"});return t}),define("views/socialnetwork-settings",["jquery","text!templates/socialnetwork-settings.html","localization","views/socialnetwork-facebook","models/Option","collections/socialnetworks","views/tracker-registered","toggleButtons"],function(e,t,n,r,i,s,o){var u=Backbone.View.extend({translation:null,template:_.template(t),socialNetworks:null,registeredSocialNetworksModels:[],events:{"click #save":"saveSettings","click .widget .tools .icon-chevron-down, .widget .tools .icon-chevron-up ":"toggleWindow"},views:null,toggleWindow:function(e){var t=jQuery(e.target).closest(".widget").children(".widget-body");jQuery(e.target).hasClass("icon-chevron-down")?(jQuery(e.target).removeClass("icon-chevron-down").addClass("icon-chevron-up"),t.slideUp(200)):(jQuery(e.target).removeClass("icon-chevron-up").addClass("icon-chevron-down"),t.slideDown(200))},bindings:{},saveSettings:function(){this.socialNetworks.update();var e=this.model.get("enabledSocialNetworks");return _.each(this.registeredSocialNetworksModels,function(t){e[t.get("id")]=t.get("value")===!1?0:1}),this.model.save(),!1},initialize:function(e){this.socialNetworks=new s,this.socialNetworks.reset(MavenSocialNetworks)},render:function(){var e=this;this.$el.html(this.template(n.toJSON()));var t=new r({model:this.socialNetworks.get("facebook")});this.$el.prepend(t.render().el);var s=this.model.get("enabledSocialNetworks");return this.socialNetworks.each(function(t){var n=new i,r=t.get("id");n.set("id",r);switch(r){case"facebook":n.set("name","Facebook"),n.set("img",Maven.adminImagesPath+"logos/facebook.png")}n.set("value",s[r]===!1||s[r]==="0"?0:1);var u=new o({model:n});e.registeredSocialNetworksModels.push(n),e.$el.find("#registered-socialnetworks").append(u.render().el)}),this.stickit(),this.$(".toggle-button").toggleButtons({width:100}),this}});return u}),define("views/tabs",["jquery","localization","text!templates/tabs.html","views/general-settings","views/gateway-settings","views/tracking-settings","views/email-settings","views/licenses-settings","views/maillist-settings","views/mail-provider-settings","views/socialnetwork-settings"],function(e,t,n,r,i,s,o,u,a,f,l){var c=Backbone.View.extend({template:_.template(n),collection:null,translation:null,settingsView:null,gatewaySettingsView:null,trackingSettingsView:null,emailSettingsView:null,socialNetworkSettingView:null,settings:null,maillistView:null,mailProviderSettingsView:null,initialize:function(e){this.settings=e.settings},events:{},render:function(){return this.$el.html(this.template(t.toJSON())),this.settingsView=new r({model:this.settings.getGeneralSetting()}),this.gatewaySettingsView=new i({model:this.settings.getGatewaySetting()}),this.emailSettingsView=new o({model:this.settings.getMailSetting()}),this.licenseView=new u({model:this.settings.getLicensingSetting()}),this.maillistView=new a({model:this.settings.getMaillistSetting()}),this.mailProviderSettingsView=new f({model:this.settings.getEmailProvidersSetting()}),this.socialNetworkSettingView=new l({model:this.settings.getSocialNetworkSetting()}),this.settingsView.setElement(this.$("#tabs-general")).render(),this.gatewaySettingsView.setElement(this.$("#tabs-gateways")).render(),this.emailSettingsView.setElement(this.$("#tabs-emails")).render(),this.licenseView.setElement(this.$("#tabs-licensing")).render(),this.maillistView.setElement(this.$("#tabs-maillist")).render(),this.mailProviderSettingsView.setElement(this.$("#tabs-email-providers")).render(),this.socialNetworkSettingView.setElement(this.$("#tabs-socialnetworks")).render(),this}});return c}),define("views/main",["jquery","collections/Options","views/tabs","spinner"],function(e,t,n,r){var i=Backbone.View.extend({el:"#mainContainer",settings:null,translation:null,initialize:function(){this.settings=new t,this.settings.on("reset",this.render,this),this.settings.reset(MavenSettings)},render:function(){var e=new n({settings:this.settings,translation:this.translation});return e.setElement(this.$el).render(),r.stop(),this}});return i}),define("router",["views/main"],function(e){var t=Backbone.Router.extend({routes:{"":"defaultAction"},defaultAction:function(t){var n=new e}}),n=function(){routerModule=new t,Backbone.history.start()};return{initialize:n}}),require(["jquery","router"],function(e,t){t.initialize()}),define("main",function(){});